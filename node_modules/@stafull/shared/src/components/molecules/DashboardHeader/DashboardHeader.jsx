/**
 * DashboardHeader Molecule
 * FranchiseOS-compliant header with logo (left), title (center), settings (right)
 * Follows DESIGN-RULES.md Section 10: Header Structure
 */

import styles from './DashboardHeader.module.css';
import { cn } from '../../../utils/cn';
import { Icon } from '../../atoms/Icon';

export function DashboardHeader({
  title,
  logoSrc,
  logoAlt = 'StaFull',
  onLogoClick,
  onSettingsClick,
  showSettings = true,
  settingsIcon = 'settings',
  iconPaths,
  children,
  className,
}) {
  return (
    <header className={cn(styles.header, className)}>
      {/* Left: Logo */}
      <div className={styles.logoSection}>
        {logoSrc ? (
          <button
            type="button"
            onClick={onLogoClick}
            className={styles.logoButton}
            aria-label="Go to dashboard"
          >
            <img src={logoSrc} alt={logoAlt} className={styles.logo} />
          </button>
        ) : (
          <button
            type="button"
            onClick={onLogoClick}
            className={styles.logoButton}
            aria-label="Go to dashboard"
          >
            <span className={styles.logoText}>
              Sta<span className={styles.logoFull}>Full</span>
            </span>
          </button>
        )}
      </div>

      {/* Center: Title */}
      <div className={styles.titleSection}>
        <h1 className={styles.title}>{title}</h1>
        {children}
      </div>

      {/* Right: Settings */}
      <div className={styles.actionsSection}>
        {showSettings && (
          <button
            type="button"
            onClick={onSettingsClick}
            className={styles.settingsButton}
            aria-label="Settings"
          >
            <Icon name={settingsIcon} size="md" iconPaths={iconPaths} />
          </button>
        )}
      </div>
    </header>
  );
}

export default DashboardHeader;
